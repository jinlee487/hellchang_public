<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="green.mappers.saveMapper">
 
   <insert id="saveMyRoutine">
	insert into `hellchang_schema_test`.`myRoutine` values 
	 (#{id}, #{name}, #{target}, #{kg}, #{rep}, sysdate(), #{title}, #{shared})
  </insert>
  
  <delete id="delMyRoutine">
  	delete from `hellchang_schema_test`.`myRoutine` where id=#{id} and title=#{title} and target=#{target}
  </delete>  
  
  <select id="selectOne" resultType="vo.SaveVO">
  	select * from `hellchang_schema_test`.`myRoutine` where id=#{id} and date = #{date}
  </select> 
  
  <select id="selectList" resultType="vo.SaveVO">
	select id,name,target,kg,rep from `hellchang_schema_test`.`myRoutine` where id=#{id} and date = #{date}
  </select>
  
  <select id="selectTList" resultType="vo.SaveVO">
	select title from `hellchang_schema_test`.`myRoutine` group by title
  </select> 
  
  <select id="allList" resultType="vo.SaveVO">
	select id,name,target,kg,rep,title,date from `hellchang_schema_test`.`myRoutine` where title = #{title}
  </select> 
   
  <select id="blogTest" resultType="vo.SaveVO"> 
	select * from `hellchang_schema_test`.`myRoutine` where shared = 'true' group by id,title order by date desc
  </select>
  
  <select id="findTest" resultType="vo.SaveVO"> 
	select myRoutine.* ,member.name as userName from hellchang_schema_test.myRoutine , hellchang_schema_test.member
	where  myRoutine.id = #{id} and myRoutine.title = #{title} and myRoutine.id = member.id
  </select>
 </mapper>
